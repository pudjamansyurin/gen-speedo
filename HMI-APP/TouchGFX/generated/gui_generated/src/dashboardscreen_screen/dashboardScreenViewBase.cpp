/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/dashboardscreen_screen/dashboardScreenViewBase.hpp>
#include <touchgfx/Color.hpp>
#include "BitmapDatabase.hpp"
#include <texts/TextKeysAndLanguages.hpp>

dashboardScreenViewBase::dashboardScreenViewBase() :
    updateItemCallback(this, &dashboardScreenViewBase::updateItemCallbackHandler)
{

    background.setPosition(-1, -1, 800, 480);
    background.setColor(touchgfx::Color::getColorFrom24BitRGB(0, 0, 0));

    indicatorImages.setPosition(274, 114, 250, 250);
    indicatorImages.setVisible(false);

    batteryLow.setXY(24, 67);
    batteryLow.setBitmap(touchgfx::Bitmap(BITMAP_BATTERYDRAINOUT_ID));
    indicatorImages.add(batteryLow);

    brakeAlert.setXY(28, 48);
    brakeAlert.setBitmap(touchgfx::Bitmap(BITMAP_BRAKESYSTEMALERT_ID));
    indicatorImages.add(brakeAlert);

    temperatureWarning.setXY(52, 71);
    temperatureWarning.setBitmap(touchgfx::Bitmap(BITMAP_COOLANTTEMPERATUREWARNING_ID));
    indicatorImages.add(temperatureWarning);

    errorMessage.setXY(52, 63);
    errorMessage.setBitmap(touchgfx::Bitmap(BITMAP_ELECTRONICERRORMESSAGE_ID));
    indicatorImages.add(errorMessage);

    fingerScan.setXY(55, 50);
    fingerScan.setBitmap(touchgfx::Bitmap(BITMAP_FINGERSCANLOGINSTATUS_ID));
    indicatorImages.add(fingerScan);

    beamActivated.setXY(33, 64);
    beamActivated.setBitmap(touchgfx::Bitmap(BITMAP_HIGHBEAMACTIVATED_ID));
    indicatorImages.add(beamActivated);

    keylessKey.setXY(34, 55);
    keylessKey.setBitmap(touchgfx::Bitmap(BITMAP_KEYLESSIGNITIONKEYDETECTION_ID));
    indicatorImages.add(keylessKey);

    phoneMirroring.setXY(33, 63);
    phoneMirroring.setBitmap(touchgfx::Bitmap(BITMAP_SMARTPHONEMIRRORINGSTATUS_ID));
    indicatorImages.add(phoneMirroring);

    mainGo.setXY(21, 86);
    mainGo.setBitmap(touchgfx::Bitmap(BITMAP_MAINGO_ID));
    indicatorImages.add(mainGo);

    mainReverse.setXY(76, 86);
    mainReverse.setBitmap(touchgfx::Bitmap(BITMAP_MAINREVERSE_ID));
    indicatorImages.add(mainReverse);

    iconContainer.setPosition(146, 132, 508, 230);

    nextIconContainer.setPosition(139, 0, 230, 230);

    nextIconImage.setXY(9, 75);
    nextIconImage.setBitmap(touchgfx::Bitmap(BITMAP_MAINGO_ID));
    nextIconContainer.add(nextIconImage);
    iconContainer.add(nextIconContainer);

    prevIconContainer.setPosition(139, 0, 230, 230);

    prevIconImage.setXY(9, 75);
    prevIconImage.setBitmap(touchgfx::Bitmap(BITMAP_MAINGO_ID));
    prevIconContainer.add(prevIconImage);
    iconContainer.add(prevIconContainer);

    frameContainer.setPosition(0, -1, 800, 480);

    tripUnit.setXY(292, 114);
    tripUnit.setColor(touchgfx::Color::getColorFrom24BitRGB(128, 128, 128));
    tripUnit.setLinespacing(0);
    tripUnit.setTypedText(touchgfx::TypedText(T_SINGLEUSEID1));
    frameContainer.add(tripUnit);

    signalPercent.setXY(485, 61);
    signalPercent.setColor(touchgfx::Color::getColorFrom24BitRGB(179, 179, 179));
    signalPercent.setLinespacing(0);
    signalPercent.setTypedText(touchgfx::TypedText(T_SINGLEUSEID9));
    frameContainer.add(signalPercent);

    batteryPercent.setXY(377, 61);
    batteryPercent.setColor(touchgfx::Color::getColorFrom24BitRGB(179, 179, 179));
    batteryPercent.setLinespacing(0);
    batteryPercent.setTypedText(touchgfx::TypedText(T_SINGLEUSEID10));
    frameContainer.add(batteryPercent);

    signalIcon.setXY(412, 62);
    signalIcon.setBitmap(touchgfx::Bitmap(BITMAP_SIGNALICON_ID));
    frameContainer.add(signalIcon);

    batteryIcon.setXY(302, 63);
    batteryIcon.setBitmap(touchgfx::Bitmap(BITMAP_BATTERYICON_ID));
    frameContainer.add(batteryIcon);

    backgroundRight.setXY(556, 57);
    backgroundRight.setBitmap(touchgfx::Bitmap(BITMAP_BACKGROUNDRIGHT_ID));
    frameContainer.add(backgroundRight);

    backgroundLeft.setXY(0, 57);
    backgroundLeft.setBitmap(touchgfx::Bitmap(BITMAP_BACKGROUNDLEFT_ID));
    frameContainer.add(backgroundLeft);

    tripBox.setXY(364, 98);
    tripBox.setBitmap(touchgfx::Bitmap(BITMAP_TRIPCONTAINER_ID));
    frameContainer.add(tripBox);

    driveBox.setXY(277, 364);
    driveBox.setBitmap(touchgfx::Bitmap(BITMAP_MODECONTAINER_ID));
    frameContainer.add(driveBox);

    seinLeftContainer.setPosition(152, 67, 80, 355);

    seinLeft.setXY(80, 0);
    seinLeft.setBitmap(touchgfx::Bitmap(BITMAP_SEINLEFT_ID));
    seinLeftContainer.add(seinLeft);

    seinRightContainer.setPosition(567, 67, 80, 355);

    seinRight.setXY(-80, 0);
    seinRight.setBitmap(touchgfx::Bitmap(BITMAP_SEINRIGHTFLIPPED_ID));
    seinRightContainer.add(seinRight);

    engineProgress.setXY(558, 57);
    engineProgress.setProgressIndicatorPosition(0, 0, 137, 366);
    engineProgress.setRange(0, 100);
    engineProgress.setDirection(touchgfx::AbstractDirectionProgress::UP);
    engineProgress.setBitmap(BITMAP_ENGINEROTATIONFLIPPED_ID);
    engineProgress.setValue(100);
    engineProgress.setAnchorAtZero(true);

    speedProgress.setXY(105, 57);
    speedProgress.setProgressIndicatorPosition(0, 0, 137, 366);
    speedProgress.setRange(0, 100);
    speedProgress.setDirection(touchgfx::AbstractDirectionProgress::UP);
    speedProgress.setBitmap(BITMAP_SPEEDLEVEL_ID);
    speedProgress.setValue(100);
    speedProgress.setAnchorAtZero(true);

    reportValue.setPosition(423, 406, 50, 18);
    reportValue.setColor(touchgfx::Color::getColorFrom24BitRGB(179, 179, 179));
    reportValue.setLinespacing(0);
    Unicode::snprintf(reportValueBuffer, REPORTVALUE_SIZE, "%s", touchgfx::TypedText(T_SINGLEUSEID29).getText());
    reportValue.setWildcard(reportValueBuffer);
    reportValue.setTypedText(touchgfx::TypedText(T_SINGLEUSEID28));

    reportWheel.setPosition(285, 406, 227, 18);
    reportWheel.setHorizontal(false);
    reportWheel.setCircular(true);
    reportWheel.setEasingEquation(touchgfx::EasingEquations::quartEaseOut);
    reportWheel.setSwipeAcceleration(10);
    reportWheel.setDragAcceleration(10);
    reportWheel.setNumberOfItems(2);
    reportWheel.setSelectedItemOffset(0);
    reportWheel.setDrawableSize(18, 0);
    reportWheel.setDrawables(reportWheelListItems, updateItemCallback);
    reportWheel.animateToItem(0, 0);

    driveWheel.setPosition(288, 369, 222, 19);
    driveWheel.setHorizontal(false);
    driveWheel.setCircular(true);
    driveWheel.setEasingEquation(touchgfx::EasingEquations::expoEaseIn);
    driveWheel.setSwipeAcceleration(10);
    driveWheel.setDragAcceleration(10);
    driveWheel.setNumberOfItems(4);
    driveWheel.setSelectedItemOffset(0);
    driveWheel.setDrawableSize(19, 0);
    driveWheel.setDrawables(driveWheelListItems, updateItemCallback);
    driveWheel.animateToItem(1, 0);

    tripValue.setPosition(374, 102, 119, 20);
    tripValue.setColor(touchgfx::Color::getColorFrom24BitRGB(255, 255, 255));
    tripValue.setLinespacing(0);
    Unicode::snprintf(tripValueBuffer, TRIPVALUE_SIZE, "%s", touchgfx::TypedText(T_SINGLEUSEID11).getText());
    tripValue.setWildcard(tripValueBuffer);
    tripValue.setTypedText(touchgfx::TypedText(T_SINGLEUSEID3));

    tripWheel.setPosition(269, 93, 79, 20);
    tripWheel.setHorizontal(false);
    tripWheel.setCircular(true);
    tripWheel.setEasingEquation(touchgfx::EasingEquations::expoEaseOut);
    tripWheel.setSwipeAcceleration(10);
    tripWheel.setDragAcceleration(10);
    tripWheel.setNumberOfItems(3);
    tripWheel.setSelectedItemOffset(0);
    tripWheel.setDrawableSize(20, 0);
    tripWheel.setDrawables(tripWheelListItems, updateItemCallback);
    tripWheel.animateToItem(0, 0);

    signalValue.setPosition(443, 61, 39, 20);
    signalValue.setColor(touchgfx::Color::getColorFrom24BitRGB(179, 179, 179));
    signalValue.setLinespacing(0);
    Unicode::snprintf(signalValueBuffer, SIGNALVALUE_SIZE, "%s", touchgfx::TypedText(T_SINGLEUSEID13).getText());
    signalValue.setWildcard(signalValueBuffer);
    signalValue.setTypedText(touchgfx::TypedText(T_SINGLEUSEID4));

    batteryValue.setPosition(335, 61, 39, 20);
    batteryValue.setColor(touchgfx::Color::getColorFrom24BitRGB(179, 179, 179));
    batteryValue.setLinespacing(0);
    Unicode::snprintf(batteryValueBuffer, BATTERYVALUE_SIZE, "%s", touchgfx::TypedText(T_SINGLEUSEID12).getText());
    batteryValue.setWildcard(batteryValueBuffer);
    batteryValue.setTypedText(touchgfx::TypedText(T_SINGLEUSEID5));

    add(background);
    add(indicatorImages);
    add(iconContainer);
    add(frameContainer);
    add(seinLeftContainer);
    add(seinRightContainer);
    add(engineProgress);
    add(speedProgress);
    add(reportValue);
    add(reportWheel);
    add(driveWheel);
    add(tripValue);
    add(tripWheel);
    add(signalValue);
    add(batteryValue);
}

void dashboardScreenViewBase::setupScreen()
{
    reportWheel.initialize();
    for (int i = 0; i < reportWheelListItems.getNumberOfDrawables(); i++)
    {
        reportWheelListItems[i].initialize();
    }
    driveWheel.initialize();
    for (int i = 0; i < driveWheelListItems.getNumberOfDrawables(); i++)
    {
        driveWheelListItems[i].initialize();
    }
    tripWheel.initialize();
    for (int i = 0; i < tripWheelListItems.getNumberOfDrawables(); i++)
    {
        tripWheelListItems[i].initialize();
    }
}

void dashboardScreenViewBase::updateItemCallbackHandler(touchgfx::DrawableListItemsInterface* items, int16_t containerIndex, int16_t itemIndex)
{
    if (items == &reportWheelListItems)
    {
        touchgfx::Drawable* d = items->getDrawable(containerIndex);
        reportWheelContainer* cc = (reportWheelContainer*)d;
        reportWheelUpdateItem(*cc, itemIndex);
    }
    if (items == &driveWheelListItems)
    {
        touchgfx::Drawable* d = items->getDrawable(containerIndex);
        driveWheelContainer* cc = (driveWheelContainer*)d;
        driveWheelUpdateItem(*cc, itemIndex);
    }
    if (items == &tripWheelListItems)
    {
        touchgfx::Drawable* d = items->getDrawable(containerIndex);
        tripWheelContainer* cc = (tripWheelContainer*)d;
        tripWheelUpdateItem(*cc, itemIndex);
    }
}
