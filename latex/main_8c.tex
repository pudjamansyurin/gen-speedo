\hypertarget{main_8c}{}\doxysection{Src/main.c File Reference}
\label{main_8c}\index{Src/main.c@{Src/main.c}}


\+: Main program body  


{\ttfamily \#include \char`\"{}main.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}cmsis\+\_\+os.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}limits.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}\+\_\+guiapp.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}\+\_\+config.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}\+\_\+database.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}\+\_\+canbus.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{main_8c_a70af21c671abfcc773614a9a4f63d920}{System\+Clock\+\_\+\+Config}} (void)
\begin{DoxyCompactList}\small\item\em System Clock Configuration. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__LCD_ga1d4f8628f8e1f4b2306218f2d2cfc53d}{G\+R\+A\+P\+H\+I\+C\+S\+\_\+\+H\+W\+\_\+\+Init}} (void)
\item 
void \mbox{\hyperlink{group__LCD_ga02fadea382c4e759d2c75bfaa7522075}{G\+R\+A\+P\+H\+I\+C\+S\+\_\+\+Init}} (void)
\item 
void \mbox{\hyperlink{main_8c_af0c148bd3eba75ff6eba56f0c87f854f}{G\+R\+A\+P\+H\+I\+C\+S\+\_\+\+Main\+Task}} (void)
\item 
void \mbox{\hyperlink{main_8c_a34e8375cd25c5eeead2e2d68a31d7852}{Start\+Lcd\+Task}} (void const $\ast$argument)
\begin{DoxyCompactList}\small\item\em Function implementing the lcd\+Task thread. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_a815de3b8d2b32f2f6662141307ba0d14}{Start\+Can\+Rx\+Task}} (void const $\ast$argument)
\begin{DoxyCompactList}\small\item\em Function implementing the Can\+Rx\+Task thread. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_ad0c0619f0cf4c4c9e49cf7ff574fb17b}{Start\+Serial\+Task}} (void const $\ast$argument)
\begin{DoxyCompactList}\small\item\em Function implementing the serial\+Task thread. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_a25f44ca42493457fb3d8211e5c70f7a9}{Callback\+Timer500}} (void const $\ast$argument)
\item 
int \mbox{\hyperlink{main_8c_a840291bc02cba5474a4cb46a9b9566fe}{main}} (void)
\begin{DoxyCompactList}\small\item\em The application entry point. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{main_8c_a9ad6d61a32dfaeda5cfc7e7dd4563c0e}{Calc\+Pos}} (int curr\+Pos, int steps)
\item 
void \mbox{\hyperlink{main_8c_a8a3b0ad512a6e6c6157440b68d395eac}{H\+A\+L\+\_\+\+T\+I\+M\+\_\+\+Period\+Elapsed\+Callback}} (T\+I\+M\+\_\+\+Handle\+Type\+Def $\ast$htim)
\begin{DoxyCompactList}\small\item\em Period elapsed callback in non blocking mode. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_a1730ffe1e560465665eb47d9264826f9}{Error\+\_\+\+Handler}} (void)
\begin{DoxyCompactList}\small\item\em This function is executed in case of error occurrence. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
C\+A\+N\+\_\+\+Handle\+Type\+Def \mbox{\hyperlink{main_8c_ab77168d14df04ccca5d48612ee21ced8}{hcan2}}
\item 
C\+R\+C\+\_\+\+Handle\+Type\+Def \mbox{\hyperlink{main_8c_ae3358c54a01c6487322df1275618d6b1}{hcrc}}
\item 
R\+T\+C\+\_\+\+Handle\+Type\+Def \mbox{\hyperlink{main_8c_aa0c7fca836406ade332e1e3f1039d8ab}{hrtc}}
\item 
U\+A\+R\+T\+\_\+\+Handle\+Type\+Def \mbox{\hyperlink{main_8c_a2cf715bef37f7e8ef385a30974a5f0d5}{huart1}}
\item 
os\+Thread\+Id \mbox{\hyperlink{main_8c_a4e3d3f684da1434f3a2750cea825507d}{Lcd\+Task\+Handle}}
\item 
os\+Thread\+Id \mbox{\hyperlink{main_8c_ae38642dda9669e05ece08795c1f091ee}{Can\+Rx\+Task\+Handle}}
\item 
os\+Thread\+Id \mbox{\hyperlink{main_8c_a4c7161bb620007ebc1dea7166419edd1}{Serial\+Task\+Handle}}
\item 
os\+Timer\+Id \mbox{\hyperlink{main_8c_aff83a6fa3ec007574088ae3c37da5cd3}{Timer500\+Handle}}
\item 
os\+Mutex\+Id \mbox{\hyperlink{main_8c_ae721026d74c375d7ae55916d180bdcb3}{Can\+Tx\+Mutex\+Handle}}
\item 
os\+Mutex\+Id \mbox{\hyperlink{main_8c_a5650410e45cd84b84319fe906cf1b4e9}{Swv\+Mutex\+Handle}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\+: Main program body 

@attentions

\doxysubsubsection*{\begin{center}\copyright{} Copyright (c) 2019 S\+T\+Microelectronics. All rights reserved.\end{center} }

This software component is licensed by ST under B\+SD 3-\/Clause license, the \char`\"{}\+License\char`\"{}; You may not use this file except in compliance with the License. You may obtain a copy of the License at\+: opensource.\+org/licenses/\+B\+S\+D-\/3-\/\+Clause 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{main_8c_a9ad6d61a32dfaeda5cfc7e7dd4563c0e}\label{main_8c_a9ad6d61a32dfaeda5cfc7e7dd4563c0e}} 
\index{main.c@{main.c}!CalcPos@{CalcPos}}
\index{CalcPos@{CalcPos}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{CalcPos()}{CalcPos()}}
{\footnotesize\ttfamily int Calc\+Pos (\begin{DoxyParamCaption}\item[{int}]{curr\+Pos,  }\item[{int}]{steps }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em curr\+Pos} & \\
\hline
{\em steps} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\mbox{\Hypertarget{main_8c_a25f44ca42493457fb3d8211e5c70f7a9}\label{main_8c_a25f44ca42493457fb3d8211e5c70f7a9}} 
\index{main.c@{main.c}!CallbackTimer500@{CallbackTimer500}}
\index{CallbackTimer500@{CallbackTimer500}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{CallbackTimer500()}{CallbackTimer500()}}
{\footnotesize\ttfamily void Callback\+Timer500 (\begin{DoxyParamCaption}\item[{void const $\ast$}]{argument }\end{DoxyParamCaption})}

\mbox{\Hypertarget{main_8c_a1730ffe1e560465665eb47d9264826f9}\label{main_8c_a1730ffe1e560465665eb47d9264826f9}} 
\index{main.c@{main.c}!Error\_Handler@{Error\_Handler}}
\index{Error\_Handler@{Error\_Handler}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{Error\_Handler()}{Error\_Handler()}}
{\footnotesize\ttfamily void Error\+\_\+\+Handler (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



This function is executed in case of error occurrence. 


\begin{DoxyRetVals}{Return values}
{\em None} & \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{main_8c_af0c148bd3eba75ff6eba56f0c87f854f}\label{main_8c_af0c148bd3eba75ff6eba56f0c87f854f}} 
\index{main.c@{main.c}!GRAPHICS\_MainTask@{GRAPHICS\_MainTask}}
\index{GRAPHICS\_MainTask@{GRAPHICS\_MainTask}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{GRAPHICS\_MainTask()}{GRAPHICS\_MainTask()}}
{\footnotesize\ttfamily void G\+R\+A\+P\+H\+I\+C\+S\+\_\+\+Main\+Task (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{main_8c_a8a3b0ad512a6e6c6157440b68d395eac}\label{main_8c_a8a3b0ad512a6e6c6157440b68d395eac}} 
\index{main.c@{main.c}!HAL\_TIM\_PeriodElapsedCallback@{HAL\_TIM\_PeriodElapsedCallback}}
\index{HAL\_TIM\_PeriodElapsedCallback@{HAL\_TIM\_PeriodElapsedCallback}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{HAL\_TIM\_PeriodElapsedCallback()}{HAL\_TIM\_PeriodElapsedCallback()}}
{\footnotesize\ttfamily void H\+A\+L\+\_\+\+T\+I\+M\+\_\+\+Period\+Elapsed\+Callback (\begin{DoxyParamCaption}\item[{T\+I\+M\+\_\+\+Handle\+Type\+Def $\ast$}]{htim }\end{DoxyParamCaption})}



Period elapsed callback in non blocking mode. 

\begin{DoxyNote}{Note}
This function is called when T\+I\+M6 interrupt took place, inside H\+A\+L\+\_\+\+T\+I\+M\+\_\+\+I\+R\+Q\+Handler(). It makes a direct call to H\+A\+L\+\_\+\+Inc\+Tick() to increment a global variable \char`\"{}uw\+Tick\char`\"{} used as application time base. 
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em htim} & \+: T\+IM handle \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em None} & \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{main_8c_a840291bc02cba5474a4cb46a9b9566fe}\label{main_8c_a840291bc02cba5474a4cb46a9b9566fe}} 
\index{main.c@{main.c}!main@{main}}
\index{main@{main}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



The application entry point. 


\begin{DoxyRetVals}{Return values}
{\em int} & \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{main_8c_a815de3b8d2b32f2f6662141307ba0d14}\label{main_8c_a815de3b8d2b32f2f6662141307ba0d14}} 
\index{main.c@{main.c}!StartCanRxTask@{StartCanRxTask}}
\index{StartCanRxTask@{StartCanRxTask}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{StartCanRxTask()}{StartCanRxTask()}}
{\footnotesize\ttfamily void Start\+Can\+Rx\+Task (\begin{DoxyParamCaption}\item[{void const $\ast$}]{argument }\end{DoxyParamCaption})}



Function implementing the Can\+Rx\+Task thread. 


\begin{DoxyParams}{Parameters}
{\em argument} & Not used \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em None} & \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{main_8c_a34e8375cd25c5eeead2e2d68a31d7852}\label{main_8c_a34e8375cd25c5eeead2e2d68a31d7852}} 
\index{main.c@{main.c}!StartLcdTask@{StartLcdTask}}
\index{StartLcdTask@{StartLcdTask}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{StartLcdTask()}{StartLcdTask()}}
{\footnotesize\ttfamily void Start\+Lcd\+Task (\begin{DoxyParamCaption}\item[{void const $\ast$}]{argument }\end{DoxyParamCaption})}



Function implementing the lcd\+Task thread. 


\begin{DoxyParams}{Parameters}
{\em argument} & Not used \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em None} & \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{main_8c_ad0c0619f0cf4c4c9e49cf7ff574fb17b}\label{main_8c_ad0c0619f0cf4c4c9e49cf7ff574fb17b}} 
\index{main.c@{main.c}!StartSerialTask@{StartSerialTask}}
\index{StartSerialTask@{StartSerialTask}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{StartSerialTask()}{StartSerialTask()}}
{\footnotesize\ttfamily void Start\+Serial\+Task (\begin{DoxyParamCaption}\item[{void const $\ast$}]{argument }\end{DoxyParamCaption})}



Function implementing the serial\+Task thread. 


\begin{DoxyParams}{Parameters}
{\em argument} & Not used \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em None} & \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{main_8c_a70af21c671abfcc773614a9a4f63d920}\label{main_8c_a70af21c671abfcc773614a9a4f63d920}} 
\index{main.c@{main.c}!SystemClock\_Config@{SystemClock\_Config}}
\index{SystemClock\_Config@{SystemClock\_Config}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{SystemClock\_Config()}{SystemClock\_Config()}}
{\footnotesize\ttfamily void System\+Clock\+\_\+\+Config (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



System Clock Configuration. 


\begin{DoxyRetVals}{Return values}
{\em None} & \\
\hline
\end{DoxyRetVals}
Configure the main internal regulator output voltage

Initializes the C\+PU, A\+HB and A\+PB busses clocks

Activate the Over-\/\+Drive mode

Initializes the C\+PU, A\+HB and A\+PB busses clocks

\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{main_8c_ae38642dda9669e05ece08795c1f091ee}\label{main_8c_ae38642dda9669e05ece08795c1f091ee}} 
\index{main.c@{main.c}!CanRxTaskHandle@{CanRxTaskHandle}}
\index{CanRxTaskHandle@{CanRxTaskHandle}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{CanRxTaskHandle}{CanRxTaskHandle}}
{\footnotesize\ttfamily os\+Thread\+Id Can\+Rx\+Task\+Handle}

\mbox{\Hypertarget{main_8c_ae721026d74c375d7ae55916d180bdcb3}\label{main_8c_ae721026d74c375d7ae55916d180bdcb3}} 
\index{main.c@{main.c}!CanTxMutexHandle@{CanTxMutexHandle}}
\index{CanTxMutexHandle@{CanTxMutexHandle}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{CanTxMutexHandle}{CanTxMutexHandle}}
{\footnotesize\ttfamily os\+Mutex\+Id Can\+Tx\+Mutex\+Handle}

\mbox{\Hypertarget{main_8c_ab77168d14df04ccca5d48612ee21ced8}\label{main_8c_ab77168d14df04ccca5d48612ee21ced8}} 
\index{main.c@{main.c}!hcan2@{hcan2}}
\index{hcan2@{hcan2}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{hcan2}{hcan2}}
{\footnotesize\ttfamily C\+A\+N\+\_\+\+Handle\+Type\+Def hcan2}

\mbox{\Hypertarget{main_8c_ae3358c54a01c6487322df1275618d6b1}\label{main_8c_ae3358c54a01c6487322df1275618d6b1}} 
\index{main.c@{main.c}!hcrc@{hcrc}}
\index{hcrc@{hcrc}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{hcrc}{hcrc}}
{\footnotesize\ttfamily C\+R\+C\+\_\+\+Handle\+Type\+Def hcrc}

\mbox{\Hypertarget{main_8c_aa0c7fca836406ade332e1e3f1039d8ab}\label{main_8c_aa0c7fca836406ade332e1e3f1039d8ab}} 
\index{main.c@{main.c}!hrtc@{hrtc}}
\index{hrtc@{hrtc}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{hrtc}{hrtc}}
{\footnotesize\ttfamily R\+T\+C\+\_\+\+Handle\+Type\+Def hrtc}

\mbox{\Hypertarget{main_8c_a2cf715bef37f7e8ef385a30974a5f0d5}\label{main_8c_a2cf715bef37f7e8ef385a30974a5f0d5}} 
\index{main.c@{main.c}!huart1@{huart1}}
\index{huart1@{huart1}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{huart1}{huart1}}
{\footnotesize\ttfamily U\+A\+R\+T\+\_\+\+Handle\+Type\+Def huart1}

\mbox{\Hypertarget{main_8c_a4e3d3f684da1434f3a2750cea825507d}\label{main_8c_a4e3d3f684da1434f3a2750cea825507d}} 
\index{main.c@{main.c}!LcdTaskHandle@{LcdTaskHandle}}
\index{LcdTaskHandle@{LcdTaskHandle}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{LcdTaskHandle}{LcdTaskHandle}}
{\footnotesize\ttfamily os\+Thread\+Id Lcd\+Task\+Handle}

\mbox{\Hypertarget{main_8c_a4c7161bb620007ebc1dea7166419edd1}\label{main_8c_a4c7161bb620007ebc1dea7166419edd1}} 
\index{main.c@{main.c}!SerialTaskHandle@{SerialTaskHandle}}
\index{SerialTaskHandle@{SerialTaskHandle}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{SerialTaskHandle}{SerialTaskHandle}}
{\footnotesize\ttfamily os\+Thread\+Id Serial\+Task\+Handle}

\mbox{\Hypertarget{main_8c_a5650410e45cd84b84319fe906cf1b4e9}\label{main_8c_a5650410e45cd84b84319fe906cf1b4e9}} 
\index{main.c@{main.c}!SwvMutexHandle@{SwvMutexHandle}}
\index{SwvMutexHandle@{SwvMutexHandle}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{SwvMutexHandle}{SwvMutexHandle}}
{\footnotesize\ttfamily os\+Mutex\+Id Swv\+Mutex\+Handle}

\mbox{\Hypertarget{main_8c_aff83a6fa3ec007574088ae3c37da5cd3}\label{main_8c_aff83a6fa3ec007574088ae3c37da5cd3}} 
\index{main.c@{main.c}!Timer500Handle@{Timer500Handle}}
\index{Timer500Handle@{Timer500Handle}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{Timer500Handle}{Timer500Handle}}
{\footnotesize\ttfamily os\+Timer\+Id Timer500\+Handle}

